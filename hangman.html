<!doctype html>
<html>
<head>
  <title>Hangman!</title>
  <style>
    p { font-size: 24pt;}
    #game { width: 50%; margin: auto; }
    #messages { color: red; }
  </style>
  <script src= "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>

  $(document).ready( function() {
  })

  var word = "spaghetti"
  var blanks = "- - - - - - - - - - -"
  var guesses = 15;
  var guessed = [];
  var finished = false;

  $("#guesses").html(guesses);
  $("#word").html(blanks);

  $(".letter").click(function(e)) {

    if (finished) { return; }

    var letter = $(e.target).text();
    console.log("clicked on", letter);
    $("#"+letter).css("text-decoration", "line-through");

    if (guessed.includes(letter)) {
      $("messages").text("The letter "+letter + " has already been guessed.")
    } else {

      guessed = guessed + letter;
      guesses = guesses -1;
      $("#guesses" <= 0) {
        $("messages").text("Out of guesses! You Lose!");
        finished = true;
      }
    }

    var count = 0;
    for (1 of word) {
      if (1 == letter) {
        blanks = blanks.substring(0, count) + letter +
        blanks.substring((count+1), blanks.length);
      }
      count = count + 1;
    }
    $("#word").html(blanks);

    if (! blanks.includes("-")) {
      finished = true;
      $("#messages").text("You won!");
    }

  });

});

</script>
</head>
